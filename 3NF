
drop table date3nf;
create table date3nf(
dateA VARCHAR(20) primary key,
award VARCHAR(20)
);

insert into date3nf (select distinct datea, award from m1_trophee)

drop table datecategorie3nf;
create table datecategorie3nf(
datea varchar(20),
categorie varchar(20),
vainqueur varchar(20),
titrevainueur varchar(20),
primary key(datea, categorie),
foreign key(datea) references date3nf (datea)
);

insert into datecategorie3nf (select distinct datea, categorie, vainqueur, titrevainqueur from m1_trophee);

drop table award3nf;
create table award3nf(
award varchar(20) primary key,
presentateur varchar(20),
production varchar(20),
audience varchar(20),
partdemarche varchar(20),
lieu varchar(20),
);

insert into award3nf (select distinct award, presentateur, production, audience, partdemarche, lieu from m1_trophee);

drop table nomines3nf;
create table nomines3nf(
datea varchar(20),
categorie varchar(20),
nomines varchar(20),
titrenomines varchar(20),
foreign key(datea, categorie) references datecategorie3nf(datea, categorie)
);

insert into nomines3nf (select distinct datea, categorie, nomines, titre from  m1_trophee);

drop table artistepresent3nf;
create table artistepresent3nf(
datea varchar(20),
artistespresents varchar(20),
foreign key(datea) references date3nf (datea)
);

insert into artistepresent3nf(select distinct datea, artistespresents from m1_trophee);

drop table performances3nf;
create table performances3nf(
datea varchar(20),
performances varchar(20),
titreperformances varchar(20),
foreign key(datea) references date3nf (datea)
);

insert into performances3nf (select distinct datea, performances, titrep from m1_trophee);

drop table trophee3nf;
create table trophee3nf(
datea varchar(20),
categorie varchar(20),
sponsors varchar(20),
realisation varchar(20),
production varchar(20),
diffusion varchar(20),
foreign key(datea, categorie) references datecategorie3nf(datea, categorie)
);

insert into trophee3nf (select distinct datea, categorie, sponsors, realisation, production, diffusion from m1_trophee);

drop table remisetrophee3nf;
create table remisetrophee3nf(
    datea varchar(10),
    vainqueur varchar2(100),
    remisetrophee varchar2(100) primary key,
    foreign key (vainqueur) references datecategorie3nf (vainqueur),
    foreign key (datea) references award3nf (datea)
);

insert into remisetrophee3nf select distinct datea, vainqueur, remiseTrophee from m1_Trophee;
